1. Создавать сессию внутри каждого метода – антипаттерн.
Или сделай сессонмейкер глобальным и используй его для создания сессии (она тогда реиспользуется) или явно прокидывай сессию в create.


session_factory = sessionmaker(bind=engine)
Session = scoped_session(session_factory)
session = Session()

2. Давай везде использовать одинаковое форматирование: https://devman.org/encyclopedia/python_basics/python_basics_formatting/

+3. В файле привычнее сперва видеть классы, а потом – функции, не наоборот.

+4. Лучше использовать exists для проверки наличия записи, это читаемее и оптимальнее (вот тут: https://github.com/ilyutoev/currency_spiders/blob/master/spiders/models.py#L32)

+5. Хранить деньги во float – антипаттерн. Используй Decimal или int

+6. А зачем ты перезаписываешь старое значение курса? А как же история? (вот тут: https://github.com/ilyutoev/currency_spiders/blob/master/spiders/models.py#L74)

+7. В spider_cb код не завёрнут в функции и `if __name__ == '__main__'`, исправить бы.

+8. В качестве значений для currency лучше бы общепринятые сокращения использовать. По u и e не просто догадаться, что это баксы и евро.

+-9. В парсере смертельно не хватает обработки ошибок. А что, если на странице не будет нужного элемента? А что, если нет интернета? Отвалилось по таймауту?

+10. spider_sevnb – почти копипаста spider_cb. Намекает на то, что надо вынести общую функциональность в функции.